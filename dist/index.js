import e from"colorjs.io";import t from"dayjs";import"dayjs/locale/de";import"dayjs/locale/en";import n from"dayjs/plugin/relativeTime.js";import r from"svg-path-commander";const i=(e,t,n)=>{let r=Number(t),i=Number(n),a=Number(e);return Number.isNaN(a)||Number.isNaN(r)||Number.isNaN(i)?NaN:(r>i&&([r,i]=[i,r]),Math.min(Math.max(a,r),i))};var a=class e{static backgroundLightnessThreshold=.18;static chromaCurveFactor=4;static cieExponent=1/3;static cieMultiplierHigh=116;static cieMultiplierLow=903.2962962;static cieOffset=16;static cieThreshold=.0088564516;static hueShiftFactor=5;static lightnessContrastExponent=3.04;static lightnessContrastOffset=.05;static lightnessMax=1;static lightnessMin=0;static lightnessScaleFactor=100;static toeK1=.206;static toeK2=.03;static toeK3=(1+e.toeK1)/(1+e.toeK2);static applyToeCurve(t){let n=e.toeK3*t-e.toeK1;return .5*(n+Math.sqrt(n*n+4*e.toeK2*e.toeK3*t))}static yToLightness(t){return t<=e.cieThreshold?t*e.cieMultiplierLow:e.cieMultiplierHigh*t**+e.cieExponent-e.cieOffset}},o=class t{static colorSpace=`okhsl`;static hexFormat=`hex`;static hueMax=360;static hueMin=0;static lightnessMax=100;static lightnessMin=0;static outputColorSpace=`srgb`;static saturationMax=100;static saturationMin=0;get colourObject(){return this.#e}get h(){return this.#e.h??t.hueMin}set h(e){let n=Number(e);if(Number.isNaN(n)){console.warn(`${t.name}: Cannot set hue to invalid value "${e}" (${n}), keeping current value "${this.#e.h}"`);return}this.#e.h=(n%t.hueMax+t.hueMax)%t.hueMax}get hex(){return this.#e.to(t.outputColorSpace).toString({format:t.hexFormat})}get l(){return this.#e.l??t.lightnessMin}set l(e){let n=Number(e);if(Number.isNaN(n)){console.warn(`${t.name}: Cannot set lightness to invalid value "${e}" (${n}), keeping current value "${this.#e.l}"`);return}this.#e.l=i(n,t.lightnessMin,t.lightnessMax)}get s(){return this.#e.s??t.saturationMin}set s(e){let n=Number(e);if(Number.isNaN(n)){console.warn(`${t.name}: Cannot set saturation to invalid value "${e}" (${n}), keeping current value "${this.#e.s}"`);return}this.#e.s=i(n,t.saturationMin,t.saturationMax)}#e;constructor(n){typeof n==`string`||n instanceof e?this.#e=new e(n).to(t.colorSpace):this.#e=new e({coords:n,space:t.colorSpace})}static mix(n,r,i){return new t(e.mix(n.colourObject,r.colourObject,i,{outputSpace:t.colorSpace,space:t.colorSpace}))}clone(){return new t(this.#e)}toString(){return this.hex}},s=class{#e;#t;#n;#r;#i;constructor(e,t,n,r,i){this.#r=e,this.#t=t,this.#i=n,this.#n=r,this.#e=i}computeColour(e){let t=this.#c(e),n=i(this.#s(t)/a.lightnessScaleFactor,a.lightnessMin,a.lightnessMax);return new o([this.#o(t),this.#a(t),n])}#a(e){let t=this.#n-this.#i,n=-a.chromaCurveFactor*t,r=a.chromaCurveFactor*t;return n*e**2+r*e+this.#i}#o(e){return this.#t+a.hueShiftFactor*(1-e)}#s(e){let t=Math.exp(a.lightnessContrastExponent*e),n=this.#e+a.lightnessContrastOffset,r=this.#e>a.backgroundLightnessThreshold?n/t-a.lightnessContrastOffset:t*n-a.lightnessContrastOffset;return a.applyToeCurve(a.yToLightness(r))}#c(e){return e/this.#r}},c=class e{static defaultBaseTint=40;static defaultHarmonizationMix=80;static fallbackHue=0;static fallbackLightness=0;static fallbackSaturation=1;static maxSaturation=.25;static maxSaturationNeutral=.2;static maxTone=100;static minSaturation=0;static neutralHarmonizationMix=0;static onDarkBase=`#fff`;static onDarkMixAmount=5;static onLightBase=`#000`;static onLightMixAmount=40;static percentageScale=100;get baseTint(){return this.#t}get onDark(){return this.#n}get onLight(){return this.#r}#e;#t;#n;#r;constructor(t,n=e.defaultBaseTint){this.#e=new o(t),this.#t=n,this.#n=this.colourMixin(new o(e.onDarkBase),e.onDarkMixAmount),this.#r=this.colourMixin(new o(e.onLightBase),e.onLightMixAmount)}colourMixin(t,n=e.defaultHarmonizationMix){let r=typeof t==`string`?new o(t):t,i=new o([r.h,this.#e.s,this.#e.l]);return this.mixColours(i,r,e.percentageScale-n)}getBaseTintedColour(e){return this.getTint(new o(e),this.#t)}getColourAtTint(t,n,r,i=!1){let a=e.maxTone-t,o=n.h,c=n.s,l=i?e.maxSaturationNeutral:Math.max(e.maxSaturation,c),u=1-r.l;return new s(e.maxTone,o,e.minSaturation,l,u).computeColour(a)}getHarmonisedColour(e,t){let n=this.colourMixin(new o(e),t);return this.getTint(n,this.#t)}getHarmonisedColourNeutral(t){let n=this.colourMixin(new o(t),e.neutralHarmonizationMix);return this.getTint(n,this.#t,this.#r,!0)}getTint(e,t,n=this.#r,r=!1){return this.getColourAtTint(t,e,n,r)}mixColours(t,n,r=this.#t){let i=r/e.percentageScale;return o.mix(t,n,i)}};let l=`en-GB`;const u=[],d=e=>{if(l!==e){l=e;for(let e of u)e()}},f=()=>l,p=e=>{u.push(e)};t.extend(n);const m=e=>{d(e),t.locale(e)};p(()=>{t.locale(f())}),m(`en-GB`);const ee=(e,n)=>{let r=n??f();return t(e).locale(r).format(`dddd, D. MMMM, H.mm`)},te=(e,n)=>{let r=n??f();return t(e).locale(r).format(`D.M. H.mm`)},h=(e,n)=>{let r=n??f();return t(e).locale(r).format(`D. MMMM H.mm.ss`)},g=(e,n)=>{let r=n??f();return t(e).locale(r).fromNow()},_=e=>t().isBefore(e),v=e=>{if(e.length===0)return;let n=t(),r=e.map(e=>Math.abs(n.diff(e)));return r.indexOf(Math.min(...r))},y=async e=>await new Promise(t=>setTimeout(t,e)),b=new Map,x=e=>{let t=b.get(e);return t||(t=new Intl.PluralRules(e,{type:`cardinal`}),b.set(e,t)),t},ne=String.fromCodePoint(8212),re=String.fromCodePoint(8211),S=String.fromCodePoint(8210),C=String.fromCodePoint(8722),w=String.fromCodePoint(43),T=String.fromCodePoint(65122),E=String.fromCodePoint(8199),D=String.fromCodePoint(8239),O=String.fromCodePoint(160),k=String.fromCodePoint(8200),A=String.fromCodePoint(8201),ie=String.fromCodePoint(65279),ae=String.fromCodePoint(776),j=(e,t)=>t?`<tspan class="caps">${e}</tspan>`:`<span class="caps">${e}</span>`,M=(e,t)=>A+e.replace(`K`,j(`k`,t)).replace(`M`,j(`m`,t)),N=(e,t=!1)=>{if(e===e.toLowerCase())return e;let n=t?`tspan`:`span`;return e.length>1?`<${n} class="caps">${e}</${n}>`:`<${n} style="font-variant-caps: all-small-caps">${e}</${n}>`},P=(e,t,n=!1)=>new Intl.NumberFormat(f(),t).formatToParts(e).map(e=>{switch(e.type){case`compact`:return M(e.value,n);case`currency`:return e.value;case`decimal`:return e.value;case`fraction`:return e.value;case`group`:return A;case`integer`:return e.value;case`literal`:return e.value;case`minusSign`:return`${C}${D}`;case`percentSign`:return`${D}%`;case`plusSign`:return`${w}${D}`;case`unit`:return e.value}return e.value}).join(``),F=(e,t=2,n={},r=!1)=>P(e,{maximumFractionDigits:t,...n,style:`decimal`},r),I=(e,t=2,n={},r=!1)=>F(e,t,n,r),L=(e,t=2)=>I(e,t,{signDisplay:`always`}),R=(e,t=!1)=>I(e,2,{maximumSignificantDigits:2,notation:`compact`},t),z=(e,t=2)=>I(e,t,{minimumFractionDigits:t}).replace(/\.00$/,k+E+E).replace(/\.0$/,k+E).replaceAll(/\.(\d)0$/g,`.$1${E}`),B=(e,t)=>`${R(e)}${D}${N(t)}`,V=e=>`${N(`R`)}${D}${R(e)}`,H=e=>B(e,`t`),U=(e,t=0)=>Number(I(e,t)),W=e=>U(e,3),G=(e,t={})=>F(e,0,t),K=e=>G(e,{signDisplay:`always`}),q=(e,t=2,n={})=>F(e,0,{...n,maximumSignificantDigits:t}),J=new Map,oe=e=>{let t=J.get(e);return t||(t=new Intl.PluralRules(e,{type:`ordinal`}),J.set(e,t)),t},se=new Map([[`few`,`rd`],[`one`,`st`],[`other`,`th`],[`two`,`nd`]]),ce=new Map([[`few`,`ʳᵈ`],[`one`,`ˢᵗ`],[`other`,`ᵗʰ`],[`two`,`ⁿᵈ`]]),le=(e,t=!0,n)=>{let r=oe(n??f()).select(e);return`${e}${(t?ce.get(r):se.get(r))??``}`},Y=(e,t=1,n={})=>P(e,{maximumFractionDigits:t,...n,style:`percent`}),ue=(e,t=1)=>Y(e,t,{signDisplay:`always`}),de=(e,t=0)=>Y(e,t).replace(`%`,`pp`),fe=(e,t)=>{if(!e)return e;let n=t??f();return e.charAt(0).toLocaleUpperCase(n)+e.slice(1)},pe=(e,t,n)=>x(f()).select(e)===`one`?t:n,me=e=>{let{width:t}=e.getBoundingClientRect();return Math.floor(t)},he=e=>{let t=String(e),n=t.startsWith(`-`);return{desc:n,key:n?t.slice(1):t}},X=(e,t)=>e.localeCompare(t,void 0,{numeric:!0,sensitivity:`base`}),Z=e=>e==null,Q=(e,t)=>{let n=Z(e),r=Z(t);if(n&&r)return 0;if(n)return 1;if(r)return-1},ge=(e,t)=>{if(e===t)return 0;let n=Q(e,t);if(n!==void 0)return n;let r=Number(e),i=Number(t);return Number.isFinite(r)&&Number.isFinite(i)?r-i:typeof e==`string`&&typeof t==`string`?X(e,t):0},$=e=>(t,n)=>{for(let r of e){let{desc:e,key:i}=he(r),a=ge(t[i],n[i]);if(a!==0)return e?-a:a}return 0};function _e(e,t){let n=Q(e,t);return n===void 0?e-t:n}function ve(e,t){let n=Q(e,t);return n===void 0?X(e,t):n}const ye=(e,t,n,r)=>`M${e},${t}h${r}v${n}h${-r}`,be=(e,t,n,r)=>`M${e},${t}L${n},${r}`,xe=(e,t,n)=>`M${e},${t}v${n}`,Se=(e,t,n)=>`M${e},${t}h${n}`,Ce=e=>new r(e,{round:2}).optimize().toString();export{a as ColourMath,s as ColourScaleGenerator,c as ColourUtility,o as HslColour,j as addSpan,M as beautifySuffix,ae as cCombiningDiaeresis,ne as cDashEm,re as cDashEn,S as cDashFigure,C as cMinus,w as cPlus,T as cPlusSmall,E as cSpaceFigure,D as cSpaceNarrowNoBreaking,O as cSpaceNoBreak,k as cSpacePunctuation,A as cSpaceThin,ie as cSpaceZeroWidthBreaking,fe as capitalizeFirstLetter,i as clamp,v as closestDateIndex,y as delay,Se as drawSvgHLine,be as drawSvgLine,ye as drawSvgRect,xe as drawSvgVLine,I as formatFloat,z as formatFloatFixed,B as formatFloatWithUnit,G as formatInt,de as formatPP,Y as formatPercent,V as formatReales,R as formatSiFloat,q as formatSiInt,L as formatSignFloat,K as formatSignInt,ue as formatSignPercent,N as formatUnit,H as formatWeight,P as formatWithIntl,x as getCardinalRules,g as getDateDistance,me as getElementWidth,ee as getFormattedDate,te as getFormattedDateShort,h as getFormattedDateShortSeconds,f as getLocale,le as getOrdinal,_ as isFutureDate,p as onLocaleChange,Ce as optimisePath,pe as pluralise,U as round,W as roundToThousands,m as setDateLocale,d as setLocale,_e as simpleNumberSort,ve as simpleStringSort,$ as sortBy};
//# sourceMappingURL=index.js.map