import e from"colorjs.io";import"dayjs/locale/de.js";import"dayjs/locale/en.js";import"dayjs/locale/en-gb.js";import t from"dayjs";import n from"dayjs/plugin/customParseFormat.js";import r from"dayjs/plugin/isBetween.js";import i from"dayjs/plugin/isSameOrBefore.js";import a from"dayjs/plugin/relativeTime.js";import o from"dayjs/plugin/timezone.js";import s from"dayjs/plugin/utc.js";import c from"svg-path-commander";const l=(e,t,n=!0)=>{if(t<1)throw Error(`n must be at least 1`);if(!Number.isInteger(t))throw TypeError(`n must be an integer`);let r=e.length;if(r===0)return[];if(t===1)return[e];if(t>=r)return e.map(e=>[e]);let i=[];if(n){let n=0,a=t;for(;a>0;){let t=r-n,o=Math.ceil(t/a);i.push(e.slice(n,n+o)),n+=o,a--}}else{let n=Math.floor(r/t),a=0;for(let r=0;r<t-1;r++)i.push(e.slice(a,a+n)),a+=n;i.push(e.slice(a))}return i},u=e=>typeof e==`object`&&!!e&&!Array.isArray(e),ee=e=>{if(!u(e))return!1;for(let t in e)return!1;return!0},d=(e,t,n)=>{let r=Number(e),i=Number(t),a=Number(n);if(isNaN(r)||isNaN(i)||isNaN(a))return NaN;if(i>a){let e=i;i=a,a=e}return r<i?i:Math.min(r,a)},te=(e,t,n)=>e<t?t:Math.min(e,n),f=.18,ne=4,p=1/3,re=116,m=903.2962962,ie=16,h=.0088564516,ae=5,g=3.04,_=.05,oe=1,se=0,ce=100,v=.206,y=.03,b=(1+v)/(1+y),x=e=>{let t=b*e-v;return .5*(t+Math.sqrt(t*t+4*y*b*e))},S=e=>e<=h?e*m:116*e**+p-16;var C=class t{static colorSpace=`okhsl`;static hexFormat=`hex`;static hueMax=360;static hueMin=0;static lightnessMax=100;static lightnessMin=0;static outputColorSpace=`srgb`;static saturationMax=100;static saturationMin=0;get colourObject(){return this.#e}get h(){return this.#e.h??t.hueMin}set h(e){let n=Number(e);if(Number.isNaN(n)){console.warn(`${t.name}: Cannot set hue to invalid value "${e}" (${n}), keeping current value "${this.#e.h}"`);return}this.#e.h=(n%t.hueMax+t.hueMax)%t.hueMax}get hex(){return this.#e.to(t.outputColorSpace).toString({format:t.hexFormat})}get l(){return this.#e.l??t.lightnessMin}set l(e){let n=Number(e);if(Number.isNaN(n)){console.warn(`${t.name}: Cannot set lightness to invalid value "${e}" (${n}), keeping current value "${this.#e.l}"`);return}this.#e.l=d(n,t.lightnessMin,t.lightnessMax)}get s(){return this.#e.s??t.saturationMin}set s(e){let n=Number(e);if(Number.isNaN(n)){console.warn(`${t.name}: Cannot set saturation to invalid value "${e}" (${n}), keeping current value "${this.#e.s}"`);return}this.#e.s=d(n,t.saturationMin,t.saturationMax)}#e;constructor(n){typeof n==`string`||n instanceof e?this.#e=new e(n).to(t.colorSpace):this.#e=new e({coords:n,space:t.colorSpace})}static mix(n,r,i){return new t(e.mix(n.colourObject,r.colourObject,i,{outputSpace:t.colorSpace,space:t.colorSpace}))}clone(){return new t(this.#e)}toString(){return this.hex}},w=class{#e;#t;#n;#r;#i;constructor(e,t,n,r,i){this.#r=e,this.#t=t,this.#i=n,this.#n=r,this.#e=i}computeColour(e){let t=this.#c(e),n=d(this.#s(t)/100,0,1);return new C([this.#o(t),this.#a(t),n])}#a(e){let t=this.#n-this.#i,n=-4*t,r=4*t;return n*e**2+r*e+this.#i}#o(e){return this.#t+5*(1-e)}#s(e){let t=Math.exp(g*e),n=this.#e+_;return x(S(this.#e>f?n/t-_:t*n-_))}#c(e){return e/this.#r}},le=class e{static defaultBaseTint=40;static defaultHarmonizationMix=80;static fallbackHue=0;static fallbackLightness=0;static fallbackSaturation=1;static maxSaturation=.25;static maxSaturationNeutral=.2;static maxTone=100;static minSaturation=0;static neutralHarmonizationMix=0;static onDarkBase=`#fff`;static onDarkMixAmount=5;static onLightBase=`#000`;static onLightMixAmount=40;static percentageScale=100;get baseTint(){return this.#t}get onDark(){return this.#n}get onLight(){return this.#r}#e;#t;#n;#r;constructor(t,n=e.defaultBaseTint){this.#e=new C(t),this.#t=n,this.#n=this.colourMixin(new C(e.onDarkBase),e.onDarkMixAmount),this.#r=this.colourMixin(new C(e.onLightBase),e.onLightMixAmount)}colourMixin(t,n=e.defaultHarmonizationMix){let r=typeof t==`string`?new C(t):t,i=new C([r.h,this.#e.s,this.#e.l]);return this.mixColours(i,r,e.percentageScale-n)}getBaseTintedColour(e){return this.getTint(new C(e),this.#t)}getColourAtTint(t,n,r,i=!1){let a=e.maxTone-t,o=n.h,s=n.s,c=i?e.maxSaturationNeutral:Math.max(e.maxSaturation,s),l=1-r.l;return new w(e.maxTone,o,e.minSaturation,c,l).computeColour(a)}getHarmonisedColour(e,t){let n=this.colourMixin(new C(e),t);return this.getTint(n,this.#t)}getHarmonisedColourNeutral(t){let n=this.colourMixin(new C(t),e.neutralHarmonizationMix);return this.getTint(n,this.#t,this.#r,!0)}getTint(e,t,n=this.#r,r=!1){return this.getColourAtTint(t,e,n,r)}mixColours(t,n,r=this.#t){let i=r/e.percentageScale;return C.mix(t,n,i)}};const ue=(t,n=`#000`,r=`#fff`)=>{let i=new e(t),a=new e(n),o=new e(r);return i.contrast(a,`WCAG21`)>i.contrast(o,`WCAG21`)?n:r},T=`YYYY-MM-DD HH:mm`;let E=`en-GB`;const D=[],O=e=>{if(E!==e){E=e;for(let e of D)e()}},k=()=>E,de=e=>{D.push(e)},fe=String.fromCodePoint(10095),pe=String.fromCodePoint(9675),me=String.fromCodePoint(776),he=String.fromCodePoint(8212),ge=String.fromCodePoint(8211),_e=String.fromCodePoint(8210),ve=String.fromCodePoint(8209),ye=String.fromCodePoint(8505),be=String.fromCodePoint(8722),xe=String.fromCodePoint(43),Se=String.fromCodePoint(65122),Ce=String.fromCodePoint(183),we=String.fromCodePoint(32),A=String.fromCodePoint(8199),j=String.fromCodePoint(8239),M=String.fromCodePoint(160),N=String.fromCodePoint(8200),P=String.fromCodePoint(8201),Te=String.fromCodePoint(65279),Ee=String.fromCodePoint(65279);t.extend(a),t.extend(n),t.extend(r),t.extend(i),t.extend(a),t.extend(o),t.extend(s);const F=e=>{O(e),t.locale(e)};de(()=>{t.locale(k())}),F(`en-GB`);const De=(e,n)=>{let r=n??k();return t(e).locale(r).format(`dddd, D. MMMM, H.mm`)},Oe=(e,n)=>{let r=n??k();return t(e).locale(r).format(`D.M. H.mm`)},ke=(e,n)=>{let r=n??k();return t.utc(e).tz(`Europe/Berlin`).locale(r).format(`D. MMMM, H.mm`)},Ae=(e,n)=>{let r=n??k();return t(e).locale(r).format(`D. MMMM H.mm.ss`)},je=(e,n)=>{let r=n??k();return t(e).locale(r).fromNow()},Me=(e,n)=>t(e).isBetween(t(),t().add(n,`hour`)),Ne=e=>t().isBefore(e),Pe=e=>{if(e.length===0)return;let n=t(),r=e.map(e=>Math.abs(n.diff(e)));return r.indexOf(Math.min(...r))},Fe=e=>t.utc(e,T).fromNow(),Ie=e=>t.utc(e,T).isSameOrBefore(t.utc()),Le=e=>t.utc(e,T).format(T),Re=e=>t.utc(e,T).format(`H:mm`),ze=e=>t.utc(e,T).local().format(T),Be=e=>t.utc(e,T).local().format(`H:mm`),Ve=(e,n,r)=>e?t(e,T).isBetween(n,r,`hour`,`(]`):!1,He=e=>({begin:t(e[0]),end:t(e.at(-1))}),I=e=>Number(t.utc().hour(e).local().format(`H`)),L=(e,t)=>`<span class="text-no-wrap">${e}${M}${ge}${M}${t}</span>`,Ue=(e,t)=>{let n=I(e),r=I(t);return`${L(e,t)} (${L(n,r)}${M}local)`},We=e=>t(e,`DD.MM.YYYY HH:mm`,!0).toISOString();t.extend(s);const R=621355968000000000n,z=10000n,Ge=e=>{let n=B(e);return t.utc(n).format(`YYYY-MM-DD HH:mm`)},Ke=e=>{let n=(BigInt(e)-R)/z;return t.utc(Number(n))},qe=e=>BigInt(typeof e==`number`?e:e.valueOf())*z+R,B=e=>{let t=(BigInt(e)-R)/z;return Number(t)},Je=async e=>await new Promise(t=>setTimeout(t,e));var Ye=class extends Error{get response(){return this.#e}get status(){return this.#e.status}get statusText(){return this.#e.statusText}get url(){return this.#e.url}#e;constructor(e){super(`${e.url} ${e.statusText} (status ${e.status})`),this.name=`FetchError`,this.#e=e}};const Xe=async e=>{let t=await fetch(e);if(!t.ok)throw new Ye(t);return await t.json()},V=new Map,H=e=>{let t=V.get(e);return t||(t=new Intl.PluralRules(e,{type:`cardinal`}),V.set(e,t)),t},Ze=e=>e.trim().toLocaleLowerCase().replaceAll(` `,`.`).replaceAll(`ß`,`ss`).normalize(`NFD`).replaceAll(me,`e`).replaceAll(/\p{Diacritic}/gu,``),U=(e,t)=>t?`<tspan class="caps">${e}</tspan>`:`<span class="caps">${e}</span>`,W=(e,t)=>P+e.replace(`K`,U(`k`,t)).replace(`M`,U(`m`,t)),G=(e,t=!1)=>{if(e===e.toLowerCase())return e;let n=t?`tspan`:`span`;return e.length>1?`<${n} class="caps">${e}</${n}>`:`<${n} style="font-variant-caps: all-small-caps">${e}</${n}>`},Qe=(e,t)=>e.length>t?`${e.slice(0,t-1)}…`:e,K=(e,t,n=!1)=>new Intl.NumberFormat(k(),t).formatToParts(e).map(e=>{switch(e.type){case`compact`:return W(e.value,n);case`currency`:return e.value;case`decimal`:return e.value;case`fraction`:return e.value;case`group`:return P;case`integer`:return e.value;case`literal`:return e.value;case`minusSign`:return`${be}${j}`;case`percentSign`:return`${j}%`;case`plusSign`:return`${xe}${j}`;case`unit`:return e.value}return e.value}).join(``),q=(e,t=2,n={},r=!1)=>K(e,{maximumFractionDigits:t,...n,style:`decimal`},r),J=(e,t=2,n={},r=!1)=>q(e,t,n,r),$e=(e,t=2)=>J(e,t,{signDisplay:`always`}),Y=(e,t=!1)=>J(e,2,{maximumSignificantDigits:2,notation:`compact`},t),et=(e,t=2)=>J(e,t,{minimumFractionDigits:t}).replace(/\.00$/,N+A+A).replace(/\.0$/,N+A).replaceAll(/\.(\d)0$/g,`.$1${A}`),tt=(e,t)=>`${Y(e)}${j}${G(t)}`,nt=e=>`${G(`R`)}${j}${Y(e)}`,rt=e=>tt(e,`t`),it=(e,t=0)=>{let n=10**t;return Math.round(e*n)/n},at=e=>it(e,3),ot=(e,t={})=>q(e,0,t),st=e=>ot(e,{signDisplay:`always`}),ct=(e,t=2,n={})=>q(e,0,{...n,maximumSignificantDigits:t}),lt=new Map,ut=e=>{let t=lt.get(e);return t||(t=new Intl.PluralRules(e,{type:`ordinal`}),lt.set(e,t)),t},dt=new Map([[`few`,`rd`],[`one`,`st`],[`other`,`th`],[`two`,`nd`]]),ft=new Map([[`few`,`ʳᵈ`],[`one`,`ˢᵗ`],[`other`,`ᵗʰ`],[`two`,`ⁿᵈ`]]),pt=(e,t=!0,n)=>{let r=ut(n??k()).select(e);return`${e}${(t?ft.get(r):dt.get(r))??``}`},X=(e,t=1,n={})=>K(e,{maximumFractionDigits:t,...n,style:`percent`}),mt=(e,t=1)=>X(e,t,{signDisplay:`always`}),ht=(e,t=0)=>X(e,t).replace(`%`,`pp`),gt=(e,t)=>{if(!e)return e;let n=t??k();return e.charAt(0).toLocaleUpperCase(n)+e.slice(1)},_t=(e,t,n)=>H(k()).select(e)===`one`?t:n??`${t}s`,Z=e=>{let t=e.getBoundingClientRect();return{bottom:Math.floor(t.bottom),height:Math.floor(t.height),left:Math.floor(t.left),right:Math.floor(t.right),top:Math.floor(t.top),width:Math.floor(t.width),x:Math.floor(t.x),y:Math.floor(t.y)}},vt=e=>Z(e).height,yt=e=>Z(e).width,bt=e=>{let{height:t,width:n}=Z(e);return{height:t,width:n}},xt=e=>{let{height:t,width:n}=e.getBoundingClientRect();return{height:t,width:n}},St=(e,t,n,r=!0)=>{let i=Math.min(t,n),a=Math.max(t,n);return r?e>=i&&e<=a:e>i&&e<a},Ct=(e,t)=>{if(!(t.length<2))for(let n=0;n<t.length-1;n++){let r=t[n],i=t[n+1];if(r&&i&&e>=r.time&&e<=i.time)return[r,i]}},wt=(e,t,n)=>{let r=n*n,i=r*n,a=2*i-3*r+1,o=i-2*r+n,s=-2*i+3*r,c=i-r;return a*e.value+o*e.tangentOut+s*t.value+c*t.tangentIn},Q=(e,t)=>{if(t.length===0)throw Error(`Points array cannot be empty`);let n=t[0];if(!n)throw Error(`Points array cannot be empty`);if(t.length===1)return e===n.time?n.value:void 0;let r=Ct(e,t);if(!r)return;let[i,a]=r;return i.time===a.time?i.value:wt(i,a,(e-i.time)/(a.time-i.time))},Tt=(e,t)=>{if(t.length===0)throw Error(`Points array cannot be empty`);let n=t[0];if(!n)throw Error(`Points array cannot be empty`);if(t.length===1||e<=n.time)return n.value;let r=t.at(-1);if(!r)throw Error(`Points array cannot be empty`);return e>=r.time?r.value:Q(e,t)??r.value},Et=e=>{if(e<=0||!Number.isFinite(e))throw Error(`Value must be a positive finite number`);return 2**Math.floor(Math.log2(e))},Dt=e=>{if(e<=0||!Number.isFinite(e))throw Error(`Value must be a positive finite number`);return 2**Math.ceil(Math.log2(e))},Ot=k(),kt=e=>{let t=String(e),n=t.startsWith(`-`);return{isDesc:n,key:n?t.slice(1):t}},At=(e,t)=>e.localeCompare(t,Ot,{numeric:!0,sensitivity:`base`}),jt=e=>e==null,$=(e,t)=>{let n=jt(e),r=jt(t);if(n&&r)return 0;if(n)return 1;if(r)return-1},Mt=(e,t)=>{if(e===t)return 0;let n=$(e,t);if(n!==void 0)return n;let r=Number(e),i=Number(t);return Number.isFinite(r)&&Number.isFinite(i)?r-i:typeof e==`string`&&typeof t==`string`?At(e,t):0},Nt=e=>(t,n)=>{for(let r of e){let{isDesc:e,key:i}=kt(r),a=Mt(t[i],n[i]);if(a!==0)return e?-a:a}return 0};function Pt(e,t){let n=$(e,t);return n===void 0?e-t:n}function Ft(e,t){let n=$(e,t);return n===void 0?At(e,t):n}const It=(e,t,n)=>`M${e-n},${t}a${n},${n} 0 1,0 ${n*2},0a${n},${n} 0 1,0 ${-n*2},0`,Lt=(e,t,n)=>`M${e},${t}h${n}v${n}h${-n}`,Rt=(e,t,n,r)=>`M${e},${t}h${n}v${r}h${-n}`,zt=(e,t,n)=>`M${e},${t}v${n}`,Bt=(e,t,n)=>`M${e},${t}h${n}`,Vt=(e,t,n,r)=>`M${e},${t}L${n},${r}`,Ht=e=>new c(e,{round:2}).optimize().toString(),Ut=(e,t)=>{let{host:n,path:r,port:i,protocol:a}=e,o=`${a}://${n}`;if(i&&(o+=`:${i}`),r){let e=r.startsWith(`/`)?r:`/${r}`;o+=e}if(!URL.canParse(o))throw Error(`Invalid ${t??``} address: ${o}`);return new URL(o)};export{w as ColourScaleGenerator,le as ColourUtility,C as HslColour,U as addSpan,x as applyToeCurve,f as backgroundLightnessThreshold,W as beautifySuffix,St as between,fe as cCaretRight,pe as cCircleWhite,me as cCombiningDiaeresis,he as cDashEm,ge as cDashEn,_e as cDashFigure,ve as cDashNoBreak,ye as cInfo,be as cMinus,xe as cPlus,Se as cPlusSmall,Ce as cSmallDot,we as cSpace,A as cSpaceFigure,j as cSpaceNarrowNoBreaking,M as cSpaceNoBreak,N as cSpacePunctuation,P as cSpaceThin,Te as cSpaceZeroWidthBreaking,Ee as cSpaceZeroWidthNoBreak,gt as capitalizeFirstLetter,ne as chromaCurveFactor,l as chunkify,p as cieExponent,re as cieMultiplierHigh,m as cieMultiplierLow,ie as cieOffset,h as cieThreshold,d as clamp,te as clampUnsafe,Pe as closestDateIndex,We as convertDEDateString,Ze as convertNameForEmail,Ut as createUrl,T as datetimeFormat,Je as delay,It as drawSvgCircle,Bt as drawSvgHLine,Vt as drawSvgLine,Lt as drawSvgRect,Rt as drawSvgRectWH,zt as drawSvgVLine,Le as formatDate,J as formatFloat,et as formatFloatFixed,tt as formatFloatWithUnit,L as formatFromToTime,ot as formatInt,ze as formatLocalDate,Be as formatLocalTime,ht as formatPP,X as formatPercent,nt as formatReales,Y as formatSiFloat,ct as formatSiInt,$e as formatSignFloat,st as formatSignInt,mt as formatSignPercent,Re as formatTime,Ue as formatTimeRange,G as formatUnit,rt as formatWeight,K as formatWithIntl,H as getCardinalRules,ue as getContrastColour,Q as getCurveValue,Tt as getCurveValueClamped,je as getDateDistance,Ke as getDateFromTicks,bt as getElementDimensions,xt as getElementDimensionsPrecise,vt as getElementHeight,Z as getElementRect,yt as getElementWidth,De as getFormattedDate,Oe as getFormattedDateShort,Ae as getFormattedDateShortSeconds,ke as getFormattedShortDateFromUTC,I as getLocalHour,k as getLocale,pt as getOrdinal,He as getRange,Fe as getRelativeTime,qe as getTicksFromDate,Ge as getTimeFromTicks,B as getTimestampFromTicks,ae as hueShiftFactor,Ve as isBetweenTime,Me as isDateInRange,ee as isEmpty,Ne as isFutureDate,u as isObject,Ie as isPastDate,g as lightnessContrastExponent,_ as lightnessContrastOffset,oe as lightnessMax,se as lightnessMin,ce as lightnessScaleFactor,Xe as loadFile,Et as nearestPow2,Dt as nextPow2,de as onLocaleChange,Ht as optimisePath,_t as pluralise,it as round,at as roundToThousands,F as setDateLocale,O as setLocale,Pt as simpleNumberSort,Ft as simpleStringSort,Nt as sortBy,Qe as truncate,S as yToLightness};
//# sourceMappingURL=index.js.map