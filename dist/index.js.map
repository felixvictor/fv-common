{"version":3,"file":"index.js","names":["#colour","#backgroundY","#baseHue","#maxChroma","#maxScaleNumber","#minChroma","#normalizeScaleNumber","#computeScaleLightness","#computeScaleHue","#computeScaleChroma","#baseTint","#onDark","#onLight","#baseColour","localeChangeCallbacks: (() => void)[]"],"sources":["../src/common.ts","../src/colour/colour-math.ts","../src/colour/hsl-colour.ts","../src/colour/colour-at-scale.ts","../src/colour/colour-utility.ts","../src/locale.ts","../src/date.ts","../src/delay.ts","../src/format/cardinal.ts","../src/unicode.ts","../src/format/helpers.ts","../src/format/intl.ts","../src/format/number.ts","../src/format/ordinal.ts","../src/format/percent.ts","../src/format/text.ts","../src/html.ts","../src/sort.ts","../src/svg/draw.ts","../src/svg/optimise.ts"],"sourcesContent":["export const clamp = (x: number | string, min: number | string, max: number | string): number => {\n    let lower = Number(min)\n    let upper = Number(max)\n    const value = Number(x)\n\n    if (Number.isNaN(value) || Number.isNaN(lower) || Number.isNaN(upper)) {\n        return Number.NaN\n    }\n\n    if (lower > upper) {\n        ;[lower, upper] = [upper, lower]\n    }\n    return Math.min(Math.max(value, lower), upper)\n}\n","export class ColourMath {\n    static readonly backgroundLightnessThreshold = 0.18\n    static readonly chromaCurveFactor = 4\n    static readonly cieExponent = 1 / 3\n\n    static readonly cieMultiplierHigh = 116\n    static readonly cieMultiplierLow = 903.296_296_2\n    static readonly cieOffset = 16\n    // CIE lightness conversion thresholds\n    static readonly cieThreshold = 0.008_856_451_6\n    // Scale computation constants\n    static readonly hueShiftFactor = 5\n\n    static readonly lightnessContrastExponent = 3.04\n    static readonly lightnessContrastOffset = 0.05\n    static readonly lightnessMax = 1\n    static readonly lightnessMin = 0\n    // Normalization constants\n    static readonly lightnessScaleFactor = 100\n\n    // Toe function coefficients for perceptual lightness adjustment\n    static readonly toeK1 = 0.206\n    static readonly toeK2 = 0.03\n    static readonly toeK3 = (1 + ColourMath.toeK1) / (1 + ColourMath.toeK2)\n\n    static applyToeCurve(lightness: number): number {\n        const term = ColourMath.toeK3 * lightness - ColourMath.toeK1\n        return 0.5 * (term + Math.sqrt(term * term + 4 * ColourMath.toeK2 * ColourMath.toeK3 * lightness))\n    }\n\n    static yToLightness(y: number): number {\n        return y <= ColourMath.cieThreshold\n            ? y * ColourMath.cieMultiplierLow\n            : ColourMath.cieMultiplierHigh * Math.pow(y, ColourMath.cieExponent) - ColourMath.cieOffset\n    }\n}\n","import Color, { type Coords } from \"colorjs.io\"\n\nimport { clamp } from \"../common.js\"\n\nexport class HslColour {\n    static readonly colorSpace = \"okhsl\"\n    static readonly hexFormat = \"hex\"\n    static readonly hueMax = 360\n    static readonly hueMin = 0\n    static readonly lightnessMax = 100\n    static readonly lightnessMin = 0\n    static readonly outputColorSpace = \"srgb\"\n    static readonly saturationMax = 100\n    static readonly saturationMin = 0\n\n    get colourObject(): Color {\n        return this.#colour\n    }\n\n    get h(): number {\n        return (this.#colour.h as number | undefined) ?? HslColour.hueMin\n    }\n\n    set h(value: number | string) {\n        const h = Number(value)\n        if (Number.isNaN(h)) {\n            console.warn(\n                `${HslColour.name}: Cannot set hue to invalid value \"${value}\" (${h}), ` +\n                    `keeping current value \"${this.#colour.h}\"`,\n            )\n            return\n        }\n        this.#colour.h = ((h % HslColour.hueMax) + HslColour.hueMax) % HslColour.hueMax\n    }\n\n    get hex(): string {\n        return this.#colour.to(HslColour.outputColorSpace).toString({ format: HslColour.hexFormat })\n    }\n\n    get l(): number {\n        return (this.#colour.l as number | undefined) ?? HslColour.lightnessMin\n    }\n\n    set l(value: number | string) {\n        const l = Number(value)\n        if (Number.isNaN(l)) {\n            console.warn(\n                `${HslColour.name}: Cannot set lightness to invalid value \"${value}\" (${l}), ` +\n                    `keeping current value \"${this.#colour.l}\"`,\n            )\n            return\n        }\n        this.#colour.l = clamp(l, HslColour.lightnessMin, HslColour.lightnessMax)\n    }\n\n    get s(): number {\n        return (this.#colour.s as number | undefined) ?? HslColour.saturationMin\n    }\n\n    set s(value: number | string) {\n        const s = Number(value)\n        if (Number.isNaN(s)) {\n            console.warn(\n                `${HslColour.name}: Cannot set saturation to invalid value \"${value}\" (${s}), ` +\n                    `keeping current value \"${this.#colour.s}\"`,\n            )\n            return\n        }\n        this.#colour.s = clamp(s, HslColour.saturationMin, HslColour.saturationMax)\n    }\n\n    readonly #colour: Color\n\n    constructor(argument: Color | Coords | string) {\n        if (typeof argument === \"string\") {\n            this.#colour = new Color(argument).to(HslColour.colorSpace)\n        } else if (argument instanceof Color) {\n            this.#colour = new Color(argument).to(HslColour.colorSpace)\n        } else {\n            this.#colour = new Color({ coords: argument, space: HslColour.colorSpace })\n        }\n    }\n\n    static mix(color1: HslColour, color2: HslColour, weight: number): HslColour {\n        const mix = Color.mix(color1.colourObject, color2.colourObject, weight, {\n            outputSpace: HslColour.colorSpace,\n            space: HslColour.colorSpace,\n        })\n        return new HslColour(mix)\n    }\n\n    clone(): HslColour {\n        return new HslColour(this.#colour)\n    }\n\n    toString(): string {\n        return this.hex\n    }\n}\n","import type { Coords } from \"colorjs.io\"\n\nimport { clamp } from \"../common.js\"\nimport { ColourMath } from \"./colour-math.js\"\nimport { HslColour } from \"./hsl-colour.js\"\n\n/**\n * {@link https://matthewstrom.com/writing/generating-color-palettes/}\n *\n * Utility class for perceptually-designed HSL color scale generation.\n * Based on Matthew Ström's color palette generation algorithm.\n */\n\nexport class ColourScaleGenerator {\n    readonly #backgroundY: number\n    readonly #baseHue: number\n    readonly #maxChroma: number\n    readonly #maxScaleNumber: number\n    readonly #minChroma: number\n\n    constructor(maxScaleNumber: number, baseHue: number, minChroma: number, maxChroma: number, backgroundY: number) {\n        this.#maxScaleNumber = maxScaleNumber\n        this.#baseHue = baseHue\n        this.#minChroma = minChroma\n        this.#maxChroma = maxChroma\n        this.#backgroundY = backgroundY\n    }\n\n    computeColour(scaleNumber: number): HslColour {\n        const scaleValue = this.#normalizeScaleNumber(scaleNumber)\n\n        const rawLightness = this.#computeScaleLightness(scaleValue)\n        const normalizedLightness = clamp(\n            rawLightness / ColourMath.lightnessScaleFactor,\n            ColourMath.lightnessMin,\n            ColourMath.lightnessMax,\n        )\n\n        const hue = this.#computeScaleHue(scaleValue)\n        const chroma = this.#computeScaleChroma(scaleValue)\n\n        const coords: Coords = [hue, chroma, normalizedLightness]\n        return new HslColour(coords)\n    }\n\n    #computeScaleChroma(scaleValue: number): number {\n        const chromaDifference = this.#maxChroma - this.#minChroma\n        const parabolaFactor = -ColourMath.chromaCurveFactor * chromaDifference\n        const linearFactor = ColourMath.chromaCurveFactor * chromaDifference\n\n        return parabolaFactor * Math.pow(scaleValue, 2) + linearFactor * scaleValue + this.#minChroma\n    }\n\n    #computeScaleHue(scaleValue: number): number {\n        return this.#baseHue + ColourMath.hueShiftFactor * (1 - scaleValue)\n    }\n\n    #computeScaleLightness(scaleValue: number): number {\n        const exponentialTerm = Math.exp(ColourMath.lightnessContrastExponent * scaleValue)\n        const adjustedBackground = this.#backgroundY + ColourMath.lightnessContrastOffset\n\n        const foregroundY =\n            this.#backgroundY > ColourMath.backgroundLightnessThreshold\n                ? adjustedBackground / exponentialTerm - ColourMath.lightnessContrastOffset\n                : exponentialTerm * adjustedBackground - ColourMath.lightnessContrastOffset\n\n        return ColourMath.applyToeCurve(ColourMath.yToLightness(foregroundY))\n    }\n\n    #normalizeScaleNumber(scaleNumber: number): number {\n        return scaleNumber / this.#maxScaleNumber\n    }\n}\n","import { ColourScaleGenerator } from \"./colour-at-scale.js\"\nimport { HslColour } from \"./hsl-colour.js\"\n\nexport class ColourUtility {\n    static readonly defaultBaseTint = 40\n    static readonly defaultHarmonizationMix = 80\n    static readonly fallbackHue = 0\n    static readonly fallbackLightness = 0\n    static readonly fallbackSaturation = 1\n    static readonly maxSaturation = 0.25\n    static readonly maxSaturationNeutral = 0.2\n    static readonly maxTone = 100\n    static readonly minSaturation = 0\n    static readonly neutralHarmonizationMix = 0\n    static readonly onDarkBase = \"#fff\"\n    static readonly onDarkMixAmount = 5\n    static readonly onLightBase = \"#000\"\n    static readonly onLightMixAmount = 40\n    static readonly percentageScale = 100\n\n    get baseTint() {\n        return this.#baseTint\n    }\n    get onDark() {\n        return this.#onDark\n    }\n    get onLight() {\n        return this.#onLight\n    }\n    readonly #baseColour: HslColour\n\n    readonly #baseTint: number\n\n    readonly #onDark: HslColour\n\n    readonly #onLight: HslColour\n\n    constructor(baseColourHex: string, baseTint = ColourUtility.defaultBaseTint) {\n        this.#baseColour = new HslColour(baseColourHex)\n        this.#baseTint = baseTint\n        this.#onDark = this.colourMixin(new HslColour(ColourUtility.onDarkBase), ColourUtility.onDarkMixAmount)\n        this.#onLight = this.colourMixin(new HslColour(ColourUtility.onLightBase), ColourUtility.onLightMixAmount)\n    }\n\n    colourMixin(mixColour: HslColour | string, mixAmount = ColourUtility.defaultHarmonizationMix) {\n        const targetColour = typeof mixColour === \"string\" ? new HslColour(mixColour) : mixColour\n        const harmonizedBase = new HslColour([targetColour.h, this.#baseColour.s, this.#baseColour.l])\n        return this.mixColours(harmonizedBase, targetColour, ColourUtility.percentageScale - mixAmount)\n    }\n\n    getBaseTintedColour(colourHex: string) {\n        return this.getTint(new HslColour(colourHex), this.#baseTint)\n    }\n\n    getColourAtTint(tone: number, colour: HslColour, background: HslColour, neutral = false) {\n        const invertedTone = ColourUtility.maxTone - tone\n        const hue = colour.h\n        const saturation = colour.s\n        const maxSaturation = neutral\n            ? ColourUtility.maxSaturationNeutral\n            : Math.max(ColourUtility.maxSaturation, saturation)\n        const backgroundLightness = background.l\n        const invertedBackgroundLightness = 1 - backgroundLightness\n\n        const generator = new ColourScaleGenerator(\n            ColourUtility.maxTone,\n            hue,\n            ColourUtility.minSaturation,\n            maxSaturation,\n            invertedBackgroundLightness,\n        )\n        return generator.computeColour(invertedTone)\n    }\n\n    getHarmonisedColour(colourHex: string, mixAmount?: number) {\n        const harmonized = this.colourMixin(new HslColour(colourHex), mixAmount)\n        return this.getTint(harmonized, this.#baseTint)\n    }\n\n    getHarmonisedColourNeutral(colourHex: string) {\n        const harmonized = this.colourMixin(new HslColour(colourHex), ColourUtility.neutralHarmonizationMix)\n        return this.getTint(harmonized, this.#baseTint, this.#onLight, true)\n    }\n\n    getTint(colour: HslColour, tone: number, backgroundColour = this.#onLight, neutral = false) {\n        return this.getColourAtTint(tone, colour, backgroundColour, neutral)\n    }\n\n    mixColours(color1: HslColour, color2: HslColour, weightPercentage = this.#baseTint) {\n        const weightScale = weightPercentage / ColourUtility.percentageScale\n        return HslColour.mix(color1, color2, weightScale)\n    }\n}\n","let currentLocale = \"en-GB\"\nconst localeChangeCallbacks: (() => void)[] = []\n\nexport const setLocale = (locale: string): void => {\n    if (currentLocale !== locale) {\n        currentLocale = locale\n        // Notify all registered callbacks\n        for (const callback of localeChangeCallbacks) callback()\n    }\n}\n\nexport const getLocale = (): string => currentLocale\n\n/**\n * Register a callback to be called whenever the locale changes.\n * @param callback - Function to call on locale change\n */\nexport const onLocaleChange = (callback: () => void): void => {\n    localeChangeCallbacks.push(callback)\n}\n","import dayjs from \"dayjs\"\nimport \"dayjs/locale/de\"\nimport \"dayjs/locale/en\"\nimport relativeTime from \"dayjs/plugin/relativeTime.js\"\n\nimport { getLocale, onLocaleChange, setLocale as setLibraryLocale } from \"./locale.js\"\n\ndayjs.extend(relativeTime)\n\n// Wrapper to sync dayjs locale with library locale\nexport const setDateLocale = (locale: string): void => {\n    setLibraryLocale(locale)\n    dayjs.locale(locale)\n}\n\n// Sync dayjs locale on any locale changes\nonLocaleChange(() => {\n    dayjs.locale(getLocale())\n})\n\n// Initialise with default\nsetDateLocale(\"en-GB\")\n\n/**\n * Formats date with locale-specific formatting.\n * @param date - Date string to format\n * @param locale - Optional locale override\n * @example getFormattedDate('2024-01-15') → \"Montag, 15. Januar, 14.30\" (de)\n * @example getFormattedDate('2024-01-15', 'en') → \"Monday, 15. January, 14.30\"\n */\nexport const getFormattedDate = (date: string, locale?: string): string => {\n    const effectiveLocale = locale ?? getLocale()\n    return dayjs(date).locale(effectiveLocale).format(\"dddd, D. MMMM, H.mm\")\n}\n\n/**\n * Short date format with day, month, and time.\n * @example getFormattedDateShort('2024-01-15') → \"15.1. 14.30\"\n */\nexport const getFormattedDateShort = (date: number | string, locale?: string): string => {\n    const effectiveLocale = locale ?? getLocale()\n    return dayjs(date).locale(effectiveLocale).format(\"D.M. H.mm\")\n}\n\n/**\n * Date format with seconds included.\n * @example getFormattedDateShortSeconds('2024-01-15') → \"15. Januar 14.30.45\"\n */\nexport const getFormattedDateShortSeconds = (date: number | string, locale?: string): string => {\n    const effectiveLocale = locale ?? getLocale()\n    return dayjs(date).locale(effectiveLocale).format(\"D. MMMM H.mm.ss\")\n}\n\n/**\n * Returns relative time string (e.g., \"vor 2 Stunden\" or \"2 hours ago\").\n * Uses currently active locale.\n */\nexport const getDateDistance = (date: string, locale?: string): string => {\n    const effectiveLocale = locale ?? getLocale()\n    return dayjs(date).locale(effectiveLocale).fromNow()\n}\n\n/**\n * Checks if the given date is in the future.\n */\nexport const isFutureDate = (date: Date | string): boolean => {\n    return dayjs().isBefore(date)\n}\n\n/**\n * Finds the index of the date closest to now.\n * @returns Index of closest date, or undefined if array is empty\n */\nexport const closestDateIndex = (datesString: string[]): number | undefined => {\n    if (datesString.length === 0) return undefined\n\n    const now = dayjs()\n    const dateDiffs = datesString.map((date) => Math.abs(now.diff(date)))\n    return dateDiffs.indexOf(Math.min(...dateDiffs))\n}\n","export const delay = async (ms: number): Promise<unknown> => await new Promise((resolve) => setTimeout(resolve, ms))\n","const cardinalRulesCache = new Map<string, Intl.PluralRules>()\n\nexport const getCardinalRules = (locale: string): Intl.PluralRules => {\n    let rules = cardinalRulesCache.get(locale)\n    if (!rules) {\n        rules = new Intl.PluralRules(locale, { type: \"cardinal\" })\n        cardinalRulesCache.set(locale, rules)\n    }\n    return rules\n}\n","export const cDashEm = String.fromCodePoint(0x20_14)\nexport const cDashEn = String.fromCodePoint(0x20_13)\nexport const cDashFigure = String.fromCodePoint(0x20_12)\nexport const cMinus = String.fromCodePoint(0x22_12)\nexport const cPlus = String.fromCodePoint(0x00_2b)\nexport const cPlusSmall = String.fromCodePoint(0xfe_62)\nexport const cSpaceFigure = String.fromCodePoint(0x20_07)\nexport const cSpaceNarrowNoBreaking = String.fromCodePoint(0x20_2f)\nexport const cSpaceNoBreak = String.fromCodePoint(0x00_a0)\nexport const cSpacePunctuation = String.fromCodePoint(0x20_08)\nexport const cSpaceThin = String.fromCodePoint(0x20_09)\nexport const cSpaceZeroWidthBreaking = String.fromCodePoint(0xfe_ff)\nexport const cCombiningDiaeresis = String.fromCodePoint(0x03_08)\n","import { cSpaceThin } from \"../unicode.js\"\n\n/**\n * Adds styled span/tspan wrapper for compact notation suffixes.\n */\nexport const addSpan = (suffix: string, svg: boolean): string =>\n    svg ? `<tspan class=\"caps\">${suffix}</tspan>` : `<span class=\"caps\">${suffix}</span>`\n\n/**\n * Beautifies compact notation suffixes (K, M) with styling and spacing.\n */\nexport const beautifySuffix = (suffix: string, svg: boolean): string =>\n    cSpaceThin + suffix.replace(\"K\", addSpan(\"k\", svg)).replace(\"M\", addSpan(\"m\", svg))\n\nexport const formatUnit = (u: string, svg = false): string => {\n    if (u === u.toLowerCase()) {\n        return u\n    }\n\n    const tag = svg ? \"tspan\" : \"span\"\n\n    if (u.length > 1) {\n        return `<${tag} class=\"caps\">${u}</${tag}>`\n    }\n\n    return `<${tag} style=\"font-variant-caps: all-small-caps\">${u}</${tag}>`\n}\n","import { getLocale } from \"../locale.js\"\nimport { cMinus, cPlus, cSpaceNarrowNoBreaking, cSpaceThin } from \"../unicode.js\"\nimport { beautifySuffix } from \"./helpers.js\"\n\n/**\n * Internal number formatter using Intl.NumberFormat with custom typographic enhancements.\n * Applies thin spaces, proper minus signs, and styled compact notation.\n */\nexport const formatWithIntl = (value: number, options: Intl.NumberFormatOptions, svg = false): string =>\n    new Intl.NumberFormat(getLocale(), options)\n        .formatToParts(value)\n        .map((part) => {\n            switch (part.type) {\n                case \"compact\": {\n                    return beautifySuffix(part.value, svg)\n                }\n\n                case \"currency\": {\n                    return part.value\n                }\n\n                case \"decimal\": {\n                    return part.value\n                }\n\n                case \"fraction\": {\n                    return part.value\n                }\n\n                case \"group\": {\n                    return cSpaceThin\n                }\n\n                case \"integer\": {\n                    return part.value\n                }\n\n                case \"literal\": {\n                    return part.value\n                }\n\n                case \"minusSign\": {\n                    return `${cMinus}${cSpaceNarrowNoBreaking}`\n                }\n\n                case \"percentSign\": {\n                    return `${cSpaceNarrowNoBreaking}%`\n                }\n\n                case \"plusSign\": {\n                    return `${cPlus}${cSpaceNarrowNoBreaking}`\n                }\n\n                case \"unit\": {\n                    return part.value\n                }\n            }\n            return part.value\n        })\n        .join(\"\")\n","import { cSpaceFigure, cSpaceNarrowNoBreaking, cSpacePunctuation } from \"../unicode.js\"\nimport { formatUnit } from \"./helpers.js\"\nimport { formatWithIntl } from \"./intl.js\"\n\n/**\n * Base number formatter with decimal precision.\n */\nconst formatNumber = (value: number, decimals = 2, options: Intl.NumberFormatOptions = {}, svg = false): string => {\n    return formatWithIntl(value, { maximumFractionDigits: decimals, ...options, style: \"decimal\" }, svg)\n}\n\n/**\n * Formats a floating-point number with specified decimal places.\n * @example formatFloat(1234.5678, 2) → \"1 234.57\"\n */\nexport const formatFloat = (value: number, decimals = 2, options: Intl.NumberFormatOptions = {}, svg = false): string =>\n    formatNumber(value, decimals, options, svg)\n\n/**\n * Formats a float with explicit sign (+/-).\n * @example formatSignFloat(42.5, 2) → \"+42.50\"\n * @example formatSignFloat(-42.5, 2) → \"−42.50\"\n */\nexport const formatSignFloat = (value: number, decimals = 2): string => {\n    return formatFloat(value, decimals, { signDisplay: \"always\" })\n}\n\n/**\n * Formats a number with SI compact notation (K, M suffixes).\n * @example formatSiFloat(1234567) → \"1.2 m\" (where m is styled)\n */\nexport const formatSiFloat = (value: number, svg = false): string => {\n    return formatFloat(\n        value,\n        2,\n        {\n            maximumSignificantDigits: 2,\n            notation: \"compact\",\n        },\n        svg,\n    )\n}\n\n/**\n * Formats a float with fixed decimal places, using figure spaces for missing digits.\n * Ensures alignment in tabular data by replacing trailing zeros with figure spaces.\n * @example formatFloatFixed(42, 2) → \"42  \" (with figure spaces)\n * @example formatFloatFixed(42.1, 2) → \"42.1 \" (with one figure space)\n */\nexport const formatFloatFixed = (value: number, decimals = 2): string => {\n    return formatFloat(value, decimals, { minimumFractionDigits: decimals })\n        .replace(/\\.00$/, cSpacePunctuation + cSpaceFigure + cSpaceFigure)\n        .replace(/\\.0$/, cSpacePunctuation + cSpaceFigure)\n        .replaceAll(/\\.(\\d)0$/g, `.$1${cSpaceFigure}`)\n}\n\nexport const formatFloatWithUnit = (x: number, u: string): string =>\n    `${formatSiFloat(x)}${cSpaceNarrowNoBreaking}${formatUnit(u)}`\n\nexport const formatReales = (x: number): string => `${formatUnit(\"R\")}${cSpaceNarrowNoBreaking}${formatSiFloat(x)}`\n\nexport const formatWeight = (x: number): string => formatFloatWithUnit(x, \"t\")\n\n/**\n * Rounds a number to specified decimal places.\n * @example round(3.14159, 2) → 3.14\n */\nexport const round = (value: number, decimals = 0): number => {\n    return Number(formatFloat(value, decimals))\n}\n\n/**\n * Rounds a number to 3 decimal places (thousands precision).\n * @example roundToThousands(3.14159) → 3.142\n */\nexport const roundToThousands = (value: number): number => round(value, 3)\n\n/**\n * Formats an integer (no decimal places).\n * @example formatInt(1234567) → \"1 234 567\"\n */\nexport const formatInt = (value: number, options: Intl.NumberFormatOptions = {}): string => {\n    return formatNumber(value, 0, options)\n}\n\n/**\n * Formats an integer with explicit sign (+/-).\n * @example formatSignInt(42) → \"+42\"\n */\nexport const formatSignInt = (value: number): string => {\n    return formatInt(value, { signDisplay: \"always\" })\n}\n\n/**\n * Format integer\n */\nexport const formatSiInt = (x: number, max = 2, options = {} as Intl.NumberFormatOptions): string =>\n    formatNumber(x, 0, { ...options, maximumSignificantDigits: max })\n","import { getLocale } from \"../locale.js\"\n\nconst ordinalRulesCache = new Map<string, Intl.PluralRules>()\n\nconst getOrdinalRules = (locale: string): Intl.PluralRules => {\n    let rules = ordinalRulesCache.get(locale)\n    if (!rules) {\n        rules = new Intl.PluralRules(locale, { type: \"ordinal\" })\n        ordinalRulesCache.set(locale, rules)\n    }\n    return rules\n}\n\nconst suffixes = new Map([\n    [\"few\", \"rd\"],\n    [\"one\", \"st\"],\n    [\"other\", \"th\"],\n    [\"two\", \"nd\"],\n])\n\nconst suffixesSuper = new Map([\n    [\"few\", \"ʳᵈ\"],\n    [\"one\", \"ˢᵗ\"],\n    [\"other\", \"ᵗʰ\"],\n    [\"two\", \"ⁿᵈ\"],\n])\n\n/**\n * Format ordinal number with appropriate suffix.\n * @param n - Integer\n * @param sup - True if superscript suffixes needed\n * @param locale - Optional locale override\n * @example getOrdinal(1) → \"1ˢᵗ\"\n * @example getOrdinal(2, false) → \"2nd\"\n * @example getOrdinal(3) → \"3ʳᵈ\"\n */\nexport const getOrdinal = (n: number, sup = true, locale?: string): string => {\n    const effectiveLocale = locale ?? getLocale()\n    const ordinalRules = getOrdinalRules(effectiveLocale)\n    const rule = ordinalRules.select(n)\n    const suffix = sup ? suffixesSuper.get(rule) : suffixes.get(rule)\n    return `${n}${suffix ?? \"\"}`\n}\n","import { formatWithIntl } from \"./intl.js\"\n\n/**\n * Formats a decimal value as a percentage.\n * @param value - Decimal value (e.g., 0.42 for 42%)\n * @param decimals - Number of decimal places\n * @example formatPercent(0.4567, 1) → \"45.7 %\"\n */\nexport const formatPercent = (value: number, decimals = 1, options: Intl.NumberFormatOptions = {}): string => {\n    return formatWithIntl(value, {\n        maximumFractionDigits: decimals,\n        ...options,\n        style: \"percent\",\n    })\n}\n\n/**\n * Formats a percentage with explicit sign (+/-).\n * @example formatSignPercent(0.42, 1) → \"+42.0 %\"\n */\nexport const formatSignPercent = (value: number, decimals = 1): string => {\n    return formatPercent(value, decimals, { signDisplay: \"always\" })\n}\n\n/**\n * Format percentage point\n */\nexport const formatPP = (x: number, f = 0): string => formatPercent(x, f).replace(\"%\", \"pp\")\n","import { getLocale } from \"../locale.js\"\nimport { getCardinalRules } from \"./cardinal.js\"\n\n/**\n * Capitalizes the first letter of a string using locale-aware rules.\n * @example capitalizeFirstLetter(\"hello\") → \"Hello\"\n * @example capitalizeFirstLetter(\"istanbul\") → \"İstanbul\" (in Turkish locale)\n */\nexport const capitalizeFirstLetter = (text: string, locale?: string): string => {\n    if (!text) return text\n    const effectiveLocale = locale ?? getLocale()\n    return text.charAt(0).toLocaleUpperCase(effectiveLocale) + text.slice(1)\n}\n\n/**\n * Returns the appropriate singular or plural form based on count.\n * Uses Intl.PluralRules for locale-aware pluralisation.\n * @example pluralise(1, \"item\", \"items\") → \"item\"\n * @example pluralise(5, \"item\", \"items\") → \"items\"\n */\nexport const pluralise = (count: number, wordSingle: string, wordPlural: string): string => {\n    const cardinalRules = getCardinalRules(getLocale())\n    const rule = cardinalRules.select(count)\n    return rule === \"one\" ? wordSingle : wordPlural\n}\n","export const getElementWidth = (element: HTMLElement | SVGElement): number => {\n    const { width } = element.getBoundingClientRect()\n\n    return Math.floor(width)\n}\n","/**\n * Sort argument type.\n * keyof T for ascending, `-${string & keyof T}` for descending.\n */\nexport type SortArgument<T> = `-${keyof T & string}` | keyof T\n\n/**\n * Parses a SortArgument string to extract the property key and sort direction.\n */\nconst parseSortArgument = <T extends object>(property: SortArgument<T>): { desc: boolean; key: keyof T } => {\n    const propertyString = String(property)\n    const desc = propertyString.startsWith(\"-\")\n    const key = (desc ? propertyString.slice(1) : propertyString) as keyof T\n    return { desc, key }\n}\n\n/**\n * Locale-aware string comparison with numeric sorting.\n * Note: 'base' sensitivity ignores case and accents, which is often desirable for data sorting.\n */\nconst compareStrings = (a: string, b: string): number =>\n    a.localeCompare(b, undefined, { numeric: true, sensitivity: \"base\" })\n\n/**\n * Check if a value is nullish (null or undefined).\n */\nconst isNullish = (value: unknown): value is null | undefined => value == undefined\n\n/**\n * Compare two values with nullish handling.\n * Returns 0 if both are nullish, 1 if only a is nullish, -1 if only b is nullish, undefined otherwise.\n */\nconst compareNullish = (a: unknown, b: unknown): number | undefined => {\n    const aIsNullish = isNullish(a)\n    const bIsNullish = isNullish(b)\n\n    if (aIsNullish && bIsNullish) return 0\n    if (aIsNullish) return 1\n    if (bIsNullish) return -1\n    return undefined\n}\n\n/**\n * Compare two values with explicit null/undefined handling and type coercion.\n * - null/undefined are treated as equal to each other, but greater than all non-null/undefined values (pushing them to the end).\n * - Tries numeric comparison first if both are numbers/convertible to numbers.\n * - Falls back to string comparison using localeCompare.\n */\nconst compareValues = (a: unknown, b: unknown): number => {\n    // 1. Quick equality check\n    if (a === b) return 0\n\n    // 2. Null/undefined handling (pushes them to the end)\n    const nullishResult = compareNullish(a, b)\n    if (nullishResult !== undefined) return nullishResult\n\n    // 3. Try number comparison\n    const numberA = Number(a)\n    const numberB = Number(b)\n\n    if (Number.isFinite(numberA) && Number.isFinite(numberB)) {\n        return numberA - numberB\n    }\n\n    // 4. Fallback to string comparison\n    if (typeof a === \"string\" && typeof b === \"string\") {\n        return compareStrings(a, b)\n    }\n\n    // 5. Different types or both objects - treat as equal\n    return 0\n}\n\n/**\n * Sort by a list of properties (in left-to-right order)\n * Properties prefixed with '-' are sorted in descending order\n * @example sortBy(['name', '-age']) // Sort by name ascending, then age descending\n */\nexport const sortBy =\n    <T extends object>(propertyNames: SortArgument<T>[]) =>\n    (a: T, b: T): number => {\n        for (const property of propertyNames) {\n            const { desc, key } = parseSortArgument(property)\n            const result = compareValues(a[key], b[key])\n\n            if (result !== 0) {\n                return desc ? -result : result\n            }\n        }\n        return 0\n    }\n\n/**\n * Simple number comparison with null/undefined handling (pushes nullish values to the end).\n */\nexport function simpleNumberSort(a: number, b: number): number\nexport function simpleNumberSort(a: null | number | undefined, b: null | number | undefined): number\nexport function simpleNumberSort(a: null | number | undefined, b: null | number | undefined): number {\n    const nullishResult = compareNullish(a, b)\n    if (nullishResult !== undefined) return nullishResult\n\n    // After compareNullish returns undefined, both a and b are guaranteed to be numbers\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return a! - b!\n}\n\n/**\n * Simple string comparison with null/undefined handling (pushes nullish values to the end).\n */\nexport function simpleStringSort(a: string, b: string): number\nexport function simpleStringSort(a: null | string | undefined, b: null | string | undefined): number\nexport function simpleStringSort(a: null | string | undefined, b: null | string | undefined): number {\n    const nullishResult = compareNullish(a, b)\n    if (nullishResult !== undefined) return nullishResult\n\n    // After compareNullish returns undefined, both a and b are guaranteed to be strings\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return compareStrings(a!, b!)\n}\n","export const drawSvgRect = (x: number, y: number, h: number, w: number): string => `M${x},${y}h${w}v${h}h${-w}`\nexport const drawSvgLine = (x1: number, y1: number, x2: number, y2: number): string => `M${x1},${y1}L${x2},${y2}`\nexport const drawSvgVLine = (x: number, y: number, l: number): string => `M${x},${y}v${l}`\nexport const drawSvgHLine = (x: number, y: number, l: number): string => `M${x},${y}h${l}`\n","import SVGPathCommander from \"svg-path-commander\"\n\nexport const optimisePath = (path: string): string => new SVGPathCommander(path, { round: 2 }).optimize().toString()\n"],"mappings":"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"}