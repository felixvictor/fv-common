import e from"dayjs";import t from"dayjs/plugin/customParseFormat";import n from"dayjs/plugin/utc";import"dayjs/locale/de";import"dayjs/locale/en";import"dayjs/locale/en-gb";import r from"dayjs/plugin/isBetween";import i from"dayjs/plugin/isSameOrBefore";import a from"dayjs/plugin/relativeTime";const o=390,s=2.63,ee=8192,c=8192,l=22,u=10,d=24,te=8,ne=360,re=180,ie=90,f=[`N`,`N⅓NE`,`N⅔NE`,`NE`,`E⅔NE`,`E⅓NE`,`E`,`E⅓SE`,`E⅔SE`,`SE`,`S⅔SE`,`S⅓SE`,`S`,`S⅓SW`,`S⅔SW`,`SW`,`W⅔SW`,`W⅓SW`,`W`,`W⅓NW`,`W⅔NW`,`NW`,`N⅔NW`,`N⅓NW`],p=360/f.length,m=e=>f.indexOf(e)*p,h=e=>e===void 0?`n/a`:f[Math.floor(e/p+.5)%f.length]??``,g=e=>h(_(e)),_=e=>(Number(e)+180)%360,v=(e,t=!1)=>{let n,r;Number.isNaN(Number(e))?(n=e,r=m(n)%360):(r=Number(e),n=h(r));let i=t?`tspan`:`span`;return`<${i} class="caps">${n}</${i}> (${r}°)`},ae=e=>e%3==0,y=e=>e%6==0,b={A:-.00499866779363828,B:-2.1464254980645e-7,C:4096.88635151897,D:4096.90282787469},x={A:-200.053302087577,B:-.00859027897636011,C:819630.836437126,D:-819563.745651571},oe=(e,t)=>b.A*e+b.B*t+b.C,se=(e,t)=>b.B*e-b.A*t+b.D,S=(e,t)=>x.A*e+x.B*t+x.C,C=(e,t)=>x.B*e-x.A*t+x.D,w=e=>e*180/Math.PI,T=e=>Math.PI/180*(e-90),E=(e,t)=>{let n=Math.atan2(t[1]-e[1],t[0]-e[0]);return n-=Math.PI/2,(w(n)+360)%360},D=(e,t)=>Math.atan2(e[1],e[0])-Math.atan2(t[1],t[0]),O=(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0]),k=(e,t)=>{let n=Math.atan2(t,e);return n=Math.round(180/Math.PI*n),n<0&&(n=360+n),n},A=(e,t)=>{let n=e+t;return n=(n%360+360)%360,n},j=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),M=(e,t)=>j({x:S(e.x,e.y),y:C(e.x,e.y)},{x:S(t.x,t.y),y:C(t.x,t.y)})/(s*390),N=(e,t)=>{if(Array.isArray(e))return Array.isArray(e[0])?e.map(e=>[e[0],c-e[1]]):[e[0],c-e[1]];if(t!=null)return[e,c-t];throw Error(`Wrong parameters x: ${e}, y: ${t}`)};e.extend(t),e.extend(n);const P=t=>{let n=e().utc(),r=n.hour(10).minute(0).second(0).millisecond(0);return n.isBefore(r)&&(r=r.subtract(1,`day`)),t!==0&&(r=r.add(t,`day`)),r},F=()=>P(0),I=()=>P(-1),L=()=>P(1),R=F().format(`YYYY-MM-DD HH:mm`),z=F().format(`YYYY-MM-DD`),B=I().format(`YYYY-MM-DD`),V=String(F().year()),H=String(F().month()+1).padStart(2,`0`);let U=`en-GB`;const W=[],G=e=>{if(U!==e){U=e;for(let e of W)e()}},K=()=>U,q=e=>{W.push(e)},ce=String.fromCodePoint(8211),J=String.fromCodePoint(160);e.extend(a),e.extend(t),e.extend(r),e.extend(i),e.extend(a),e.extend(n),q(()=>{e.locale(K())}),(t=>{G(t),e.locale(t)})(`en-GB`);const Y=t=>Number(e.utc().hour(t).local().format(`H`)),X=(e,t)=>`<span class="text-no-wrap">${e}${J}${ce}${J}${t}</span>`,Z=(e,t)=>{let n=Y(e),r=Y(t);return`${X(e,t)} (${X(n,r)}${J}local)`};e.extend(n);const Q=t=>{G(t),e.locale(t)};q(()=>{e.locale(K())}),Q(`en-GB`);const le=(e,t=!1)=>{let n=t?9:2,r=(10+e)%24,i=10+e+n;return i>24&&(i=Math.min((10+e+n)%24,8)),e===0?Z(10,8):Z(r,i)},ue=()=>{let t=e.utc(),n=e().utc().hour(10).minute(0);t.hour()<n.hour()&&(n=n.subtract(1,`day`));let r=n.add(1,`day`);return{begin:n,end:r}},de=()=>{let t=e.utc(),n=t.hour(10).minute(0).subtract(1,`day`);t.hour()<n.hour()&&(n=n.subtract(1,`day`));let r=n.add(1,`day`);return{begin:n,end:r}},fe=()=>{let t=e().utc().startOf(`week`);return{begin:t.hour(10),end:t.add(7,`day`).hour(10)}},pe=()=>{let t=e().utc().startOf(`week`);return{begin:t.subtract(7,`day`).hour(10),end:t.hour(10)}},$=24,me=2*Math.PI/24,he=5,ge=360/2935,_e=(e,t)=>{let n=t%360,r=Math.round(e-n);for(;r>=360;)r-=360;for(;r<0;)r+=360;return r},ve=(e,t)=>(Math.round(e-t%360)%360+360)%360;export{A as addAngle,he as circleRadiusFactor,_ as compassDirectionFromSlider,f as compassDirections,m as compassToDegrees,oe as convertCoordX,se as convertCoordY,S as convertInvCoordX,C as convertInvCoordY,N as coordinateAdjust,H as currentServerDateMonth,V as currentServerDateYear,z as currentServerStartDate,R as currentServerStartDateTime,ne as degreesFullCircle,re as degreesHalfCircle,p as degreesPerDirection,ge as degreesPerSecond,ie as degreesQuarterCircle,h as degreesToCompass,g as degreesToCompassSlider,T as degreesToRadians,v as displayCompassAndDegrees,ee as distanceMapSize,j as distancePoints,k as getAngle,F as getCurrentServerStart,M as getDistance,pe as getLastWeek,L as getNextServerStart,le as getPortBattleTime,I as getPreviousServerStart,O as getRadians,fe as getThisWeek,ue as getToday,de as getYesterday,d as hoursPerDay,y as isCardinal,ae as isCardinalOrIntercardinal,c as mapSize,te as maxPortBattleHour,l as minDeepWaterBR,$ as numberSegments,B as previousServerStartDate,w as radiansToDegrees,E as rotationAngleInDegrees,D as rotationAngleInRadians,me as segmentRadians,u as serverMaintenanceHour,Q as setDateLocale,o as speedFactor,_e as subtractFromWind,ve as subtractFromWindAlt,s as timeFactor};
//# sourceMappingURL=na.js.map