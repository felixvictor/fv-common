import e from"dayjs";import t from"dayjs/plugin/customParseFormat";import n from"dayjs/plugin/utc";import"dayjs/locale/de";import"dayjs/locale/en";import"dayjs/locale/en-gb";import r from"dayjs/plugin/isBetween";import i from"dayjs/plugin/isSameOrBefore";import a from"dayjs/plugin/relativeTime";const o=.007216940683850481,s=.07138237949891339,c=390,l=2.63,u=8192,d=8192,ee=22,te=10,f=24,p=8,m=360,h=180,g=90,_=360/v.length,v=[`N`,`N⅓NE`,`N⅔NE`,`NE`,`E⅔NE`,`E⅓NE`,`E`,`E⅓SE`,`E⅔SE`,`SE`,`S⅔SE`,`S⅓SE`,`S`,`S⅓SW`,`S⅔SW`,`SW`,`W⅔SW`,`W⅓SW`,`W`,`W⅓NW`,`W⅔NW`,`NW`,`N⅔NW`,`N⅓NW`],y=e=>v.indexOf(e)*_,b=e=>e===void 0?`n/a`:v[Math.floor(e/_+.5)%v.length]??``,x=e=>b(S(e)),S=e=>(Number(e)+180)%360,ne=(e,t=!1)=>{let n,r;Number.isNaN(Number(e))?(n=e,r=y(n)%360):(r=Number(e),n=b(r));let i=t?`tspan`:`span`;return`<${i} class="caps">${n}</${i}> (${r}°)`},re=e=>e%3==0,ie=e=>e%6==0,C={A:-.00499866779363828,B:-2.1464254980645e-7,C:4096.88635151897,D:4096.90282787469},w={A:-200.053302087577,B:-.00859027897636011,C:819630.836437126,D:-819563.745651571},T=(e,t)=>C.A*e+C.B*t+C.C,E=(e,t)=>C.B*e-C.A*t+C.D,D=(e,t)=>w.A*e+w.B*t+w.C,O=(e,t)=>w.B*e-w.A*t+w.D,k=e=>e*180/Math.PI,A=e=>Math.PI/180*(e-90),j=(e,t)=>{let n=Math.atan2(t[1]-e[1],t[0]-e[0]);return n-=Math.PI/2,(k(n)+360)%360},M=(e,t)=>Math.atan2(e[1],e[0])-Math.atan2(t[1],t[0]),N=(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0]),P=(e,t)=>{let n=Math.atan2(t,e);return n=Math.round(180/Math.PI*n),n<0&&(n=360+n),n},F=(e,t)=>{let n=e+t;return n=(n%360+360)%360,n},I=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),L=(e,t)=>I({x:D(e.x,e.y),y:O(e.x,e.y)},{x:D(t.x,t.y),y:O(t.x,t.y)})/(l*390),R=(e,t)=>{if(Array.isArray(e))return Array.isArray(e[0])?e.map(e=>[e[0],d-e[1]]):[e[0],d-e[1]];if(t!=null)return[e,d-t];throw Error(`Wrong parameters x: ${e}, y: ${t}`)};e.extend(t),e.extend(n);const z=t=>{let n=e().utc(),r=n.hour(10).minute(0).second(0).millisecond(0);return n.isBefore(r)&&(r=r.subtract(1,`day`)),t!==0&&(r=r.add(t,`day`)),r},B=()=>z(0),V=()=>z(-1),H=()=>z(1),U=B().format(`YYYY-MM-DD HH:mm`),ae=B().format(`YYYY-MM-DD`),W=V().format(`YYYY-MM-DD`),G=String(B().year()),K=String(B().month()+1).padStart(2,`0`);let q=`en-GB`;const J=[],oe=e=>{if(q!==e){q=e;for(let e of J)e()}},se=()=>q,ce=e=>{J.push(e)},le=String.fromCodePoint(8211),Y=String.fromCodePoint(160);e.extend(a),e.extend(t),e.extend(r),e.extend(i),e.extend(a),e.extend(n),ce(()=>{e.locale(se())}),(t=>{oe(t),e.locale(t)})(`en-GB`);const X=t=>Number(e.utc().hour(t).local().format(`H`)),Z=(e,t)=>`<span class="text-no-wrap">${e}${Y}${le}${Y}${t}</span>`,Q=(e,t)=>{let n=X(e),r=X(t);return`${Z(e,t)} (${Z(n,r)}${Y}local)`},$=(e,t=!1)=>{let n=t?9:2,r=(10+e)%24,i=10+e+n;return i>24&&(i=Math.min((10+e+n)%24,8)),e===0?Q(10,8):Q(r,i)},ue=24,de=2*Math.PI/24,fe=5,pe=360/2935,me=(e,t)=>{let n=t%360,r=Math.round(e-n);for(;r>=360;)r-=360;for(;r<0;)r+=360;return r},he=(e,t)=>(Math.round(e-t%360)%360+360)%360;export{F as addAngle,fe as circleRadiusFactor,S as compassDirectionFromSlider,v as compassDirections,y as compassToDegrees,T as convertCoordX,E as convertCoordY,D as convertInvCoordX,O as convertInvCoordY,R as coordinateAdjust,K as currentServerDateMonth,G as currentServerDateYear,ae as currentServerStartDate,U as currentServerStartDateTime,m as degreesFullCircle,h as degreesHalfCircle,_ as degreesPerDirection,pe as degreesPerSecond,g as degreesQuarterCircle,b as degreesToCompass,x as degreesToCompassSlider,A as degreesToRadians,ne as displayCompassAndDegrees,u as distanceMapSize,I as distancePoints,P as getAngle,B as getCurrentServerStart,L as getDistance,H as getNextServerStart,$ as getPortBattleTime,V as getPreviousServerStart,N as getRadians,f as hoursPerDay,ie as isCardinal,re as isCardinalOrIntercardinal,d as mapSize,p as maxPortBattleHour,ee as minDeepWaterBR,ue as numberSegments,W as previousServerStartDate,k as radiansToDegrees,j as rotationAngleInDegrees,M as rotationAngleInRadians,de as segmentRadians,te as serverMaintenanceHour,o as speedConstB,s as speedConstM,c as speedFactor,me as subtractFromWind,he as subtractFromWindAlt,l as timeFactor};
//# sourceMappingURL=na.js.map