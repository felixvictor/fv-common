import e from"dayjs";import t from"dayjs/plugin/customParseFormat";import n from"dayjs/plugin/utc";import"dayjs/locale/de";import"dayjs/locale/en";import"dayjs/locale/en-gb";import r from"dayjs/plugin/isBetween";import i from"dayjs/plugin/isSameOrBefore";import a from"dayjs/plugin/relativeTime";const ee=390,o=2.63,s=8192,c=8192,te=22,l=10,u=24,d=8,f=360,p=180,m=90,h=[`N`,`N⅓NE`,`N⅔NE`,`NE`,`E⅔NE`,`E⅓NE`,`E`,`E⅓SE`,`E⅔SE`,`SE`,`S⅔SE`,`S⅓SE`,`S`,`S⅓SW`,`S⅔SW`,`SW`,`W⅔SW`,`W⅓SW`,`W`,`W⅓NW`,`W⅔NW`,`NW`,`N⅔NW`,`N⅓NW`],g=360/h.length,_=e=>h.indexOf(e)*g,v=e=>e===void 0?`n/a`:h[Math.floor(e/g+.5)%h.length]??``,ne=e=>v(y(e)),y=e=>(Number(e)+180)%360,b=(e,t=!1)=>{let n,r;Number.isNaN(Number(e))?(n=e,r=_(n)%360):(r=Number(e),n=v(r));let i=t?`tspan`:`span`;return`<${i} class="caps">${n}</${i}> (${r}°)`},x=e=>e%3==0,re=e=>e%6==0,S={A:-.00499866779363828,B:-2.1464254980645e-7,C:4096.88635151897,D:4096.90282787469},C={A:-200.053302087577,B:-.00859027897636011,C:819630.836437126,D:-819563.745651571},w=(e,t)=>S.A*e+S.B*t+S.C,T=(e,t)=>S.B*e-S.A*t+S.D,E=(e,t)=>C.A*e+C.B*t+C.C,D=(e,t)=>C.B*e-C.A*t+C.D,O=e=>e*180/Math.PI,k=e=>Math.PI/180*(e-90),A=(e,t)=>{let n=Math.atan2(t[1]-e[1],t[0]-e[0]);return n-=Math.PI/2,(O(n)+360)%360},j=(e,t)=>Math.atan2(e[1],e[0])-Math.atan2(t[1],t[0]),M=(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0]),N=(e,t)=>{let n=Math.atan2(t,e);return n=Math.round(180/Math.PI*n),n<0&&(n=360+n),n},P=(e,t)=>{let n=e+t;return n=(n%360+360)%360,n},F=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),I=(e,t)=>F({x:E(e.x,e.y),y:D(e.x,e.y)},{x:E(t.x,t.y),y:D(t.x,t.y)})/(o*390),L=(e,t)=>{if(Array.isArray(e))return Array.isArray(e[0])?e.map(e=>[e[0],c-e[1]]):[e[0],c-e[1]];if(t!=null)return[e,c-t];throw Error(`Wrong parameters x: ${e}, y: ${t}`)};e.extend(t),e.extend(n);const R=t=>{let n=e().utc(),r=n.hour(10).minute(0).second(0).millisecond(0);return n.isBefore(r)&&(r=r.subtract(1,`day`)),t!==0&&(r=r.add(t,`day`)),r},z=()=>R(0),B=()=>R(-1),ie=()=>R(1),V=z().format(`YYYY-MM-DD HH:mm`),H=z().format(`YYYY-MM-DD`),U=B().format(`YYYY-MM-DD`),W=String(z().year()),G=String(z().month()+1).padStart(2,`0`);let K=`en-GB`;const q=[],J=e=>{if(K!==e){K=e;for(let e of q)e()}},Y=()=>K,ae=e=>{q.push(e)},oe=String.fromCodePoint(8211),X=String.fromCodePoint(160);e.extend(a),e.extend(t),e.extend(r),e.extend(i),e.extend(a),e.extend(n),ae(()=>{e.locale(Y())}),(t=>{J(t),e.locale(t)})(`en-GB`);const Z=t=>Number(e.utc().hour(t).local().format(`H`)),Q=(e,t)=>`<span class="text-no-wrap">${e}${X}${oe}${X}${t}</span>`,$=(e,t)=>{let n=Z(e),r=Z(t);return`${Q(e,t)} (${Q(n,r)}${X}local)`},se=(e,t=!1)=>{let n=t?9:2,r=(10+e)%24,i=10+e+n;return i>24&&(i=Math.min((10+e+n)%24,8)),e===0?$(10,8):$(r,i)},ce=24,le=2*Math.PI/24,ue=5,de=360/2935,fe=(e,t)=>{let n=t%360,r=Math.round(e-n);for(;r>=360;)r-=360;for(;r<0;)r+=360;return r},pe=(e,t)=>(Math.round(e-t%360)%360+360)%360;export{P as addAngle,ue as circleRadiusFactor,y as compassDirectionFromSlider,h as compassDirections,_ as compassToDegrees,w as convertCoordX,T as convertCoordY,E as convertInvCoordX,D as convertInvCoordY,L as coordinateAdjust,G as currentServerDateMonth,W as currentServerDateYear,H as currentServerStartDate,V as currentServerStartDateTime,f as degreesFullCircle,p as degreesHalfCircle,g as degreesPerDirection,de as degreesPerSecond,m as degreesQuarterCircle,v as degreesToCompass,ne as degreesToCompassSlider,k as degreesToRadians,b as displayCompassAndDegrees,s as distanceMapSize,F as distancePoints,N as getAngle,z as getCurrentServerStart,I as getDistance,ie as getNextServerStart,se as getPortBattleTime,B as getPreviousServerStart,M as getRadians,u as hoursPerDay,re as isCardinal,x as isCardinalOrIntercardinal,c as mapSize,d as maxPortBattleHour,te as minDeepWaterBR,ce as numberSegments,U as previousServerStartDate,O as radiansToDegrees,A as rotationAngleInDegrees,j as rotationAngleInRadians,le as segmentRadians,l as serverMaintenanceHour,ee as speedFactor,fe as subtractFromWind,pe as subtractFromWindAlt,o as timeFactor};
//# sourceMappingURL=na.js.map