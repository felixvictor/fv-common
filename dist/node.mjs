import e from"node:fs";import t from"node:fs/promises";import{readFileSync as n,writeFile as r,writeFileSync as i}from"atomically";import a from"node:path";const o={fileNotFound:`ENOENT`},s=e=>{let t=e instanceof Error?e.message:String(e);console.error(`Request failed -->`,t)},c=e=>e instanceof Error&&`code`in e,l=t=>{try{e.mkdirSync(t,{recursive:!0})}catch(e){s(`Cannot make directory ${t}\nError: ${String(e)}`)}},u=async e=>{try{await t.mkdir(e,{recursive:!0})}catch(t){s(`Cannot make directory ${e}\nError: ${String(t)}`)}},d=t=>e.readdirSync(t,{recursive:!0}),f=t=>{e.rmSync(t,{force:!0,recursive:!0})},p=`utf8`,m=async(e,t)=>{try{await r(e,t,{encoding:p})}catch(t){s(`Cannot save ${e} (atomically.writeFile)\nError: ${String(t)}`)}},h=(e,t)=>{try{i(e,t,{encoding:p})}catch(t){s(`Cannot save ${e} (atomically.writeFileSync)\nError: ${String(t)}`)}},g=async(e,t)=>{await m(e,JSON.stringify(t))},_=(e,t)=>{h(e,JSON.stringify(t))},v=(e,t)=>{try{i(e,t)}catch(t){s(`Cannot save ${e} (saveBinaryFile)\nError: ${String(t)}`)}},y=(e,t)=>{v(e,t)},b=e=>{try{return n(e,{encoding:p})}catch(t){c(t)&&t.code===o.fileNotFound?s(`File ${e} not found`):s(t);return}},x=e=>{try{let t=b(e);return t===void 0?void 0:JSON.parse(t)}catch(e){s(e);return}},S=async e=>{try{return await t.readFile(e,{encoding:p})}catch(t){c(t)&&t.code===o.fileNotFound?s(`File ${e} not found`):s(t);return}},C={force:!0,throwIfNoEntry:!1},w=t=>{e.rmSync(t,{force:C.force})},T=async e=>{try{await t.rm(e,{force:C.force})}catch(e){s(e)}},E=t=>{try{return e.statSync(t).isFile()}catch{return!1}},D=t=>e.statSync(t,{throwIfNoEntry:C.throwIfNoEntry})?.size===0,O=async e=>{try{return(await t.stat(e)).isFile()}catch{return!1}},k=(e,t)=>{let n=a.parse(e);return a.format({dir:n.dir,ext:t.startsWith(`.`)?t:`.${t}`,name:n.name})},A=(e,t)=>{let n=a.parse(e);return a.format({dir:n.dir,ext:n.ext,name:n.name+t})},j=(e,t)=>{let n=a.parse(e);return a.format({dir:n.dir,ext:n.ext,name:t})};export{A as appendToFileName,k as changeExtension,j as changeFileName,o as errorCodes,D as fileEmpty,E as fileExists,O as fileExistsAsync,c as isNodeError,u as makeDirectoryAsync,l as makeDirectorySync,s as putError,d as readDirectorySync,x as readJsonSync,S as readTextFileAsync,b as readTextFileSync,f as removeDirectorySync,T as removeFileAsync,w as removeFileSync,v as saveBinaryFile,y as saveImage,_ as saveJson,g as saveJsonAsync,m as saveTextFileAsync,h as saveTextFileSync};
//# sourceMappingURL=node.mjs.map